import{j as e,m as j,r as l,b as u}from"./index-DFb-9tgV.js";import{u as f,a as d}from"./use-transform-Caow0oRJ.js";function h({card:s,style:c}){return e.jsx(j.div,{className:"sticky-card",style:c,children:e.jsxs("div",{className:"card-inner",children:[e.jsx("div",{className:"card-image-container",children:e.jsx("img",{src:s.image,alt:"visual",className:"card-image"})}),e.jsxs("div",{className:"card-text",children:[e.jsx("h2",{children:s.title}),Array.isArray(s.description)?e.jsx("ul",{className:"card-bullets",children:s.description.map((i,t)=>e.jsx("li",{children:i.text},t))}):e.jsx("p",{children:s.description}),e.jsx("a",{href:"/Service",className:"explore-button",children:"Explore More"})," "]})]})})}const p=({cardData:s})=>{const c=l.useRef(null),{scrollYProgress:i}=f({target:c,offset:["start start","end end"]}),t=s.length;return e.jsx("div",{ref:c,className:"sticky-scroll-container",children:e.jsx("div",{className:"sticky-card-pinner",children:s.map((o,a)=>{const r=a/t,n=(a+1)/t,m=d(i,[r,n],["0%",a===t-1?"0%":"-100%"]),x=d(i,[r,n],[1,a===t-1?1:.9]);return e.jsx(h,{card:o,style:{y:m,scale:x,zIndex:t-a}},o._id)})})})};function g(){const[s,c]=l.useState([]),[i,t]=l.useState(!0),[o,a]=l.useState(window.innerWidth<=575);return l.useEffect(()=>{const r=()=>{a(window.innerWidth<=575)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),l.useEffect(()=>{(async()=>{try{const n=await u.get("/homepage/service-cards");c(n.data.data)}catch(n){console.error("Failed to fetch service cards:",n)}finally{t(!1)}})()},[]),e.jsxs("div",{className:"sticky-scroll-wrapper",children:[e.jsx("div",{className:"section-title text-center",children:e.jsxs("h2",{className:"wow fadeInUp","data-wow-delay":".3s",children:["One ",e.jsx("b",{children:"System"})," ",e.jsx("br",{}),e.jsxs("strong",{className:"we-build",children:["Total ",e.jsx("b",{children:"market Authority"})]})]})}),!i&&s.length>0?o?e.jsx("div",{className:"static-card-list",children:s.map(r=>e.jsx(h,{card:r},r._id))}):e.jsx(p,{cardData:s}):e.jsx("div",{style:{minHeight:"100vh"}})]})}export{g as default};
