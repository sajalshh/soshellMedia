import{j as e,m as x,r as o,b as j}from"./index-BOkrnMbq.js";import{u as p,a as d}from"./use-transform-Cpb_gsbw.js";function m({card:s,style:i}){const c=s.image&&s.image.includes("/image/upload/")?s.image.replace("/image/upload/","/image/upload/f_auto,q_auto,w_800/"):s.image;return e.jsx(x.div,{className:"sticky-card",style:i,children:e.jsxs("div",{className:"card-inner",children:[e.jsx("div",{className:"card-image-container",children:e.jsx("img",{src:c,alt:s.title||"visual",loading:"lazy",decoding:"async",className:"card-image"})}),e.jsxs("div",{className:"card-text",children:[e.jsx("h2",{children:s.title}),Array.isArray(s.description)?e.jsx("ul",{className:"card-bullets",children:s.description.map((t,n)=>e.jsx("li",{children:t.text},n))}):e.jsx("p",{children:s.description}),e.jsx("a",{href:"/Service",className:"explore-button",children:"Explore More"})]})]})})}const g=({cardData:s})=>{const i=o.useRef(null),{scrollYProgress:c}=p({target:i,offset:["start start","end end"]}),t=s.length;return e.jsx("div",{ref:i,className:"sticky-scroll-container",children:e.jsx("div",{className:"sticky-card-pinner",children:s.map((n,r)=>{const a=r/t,l=(r+1)/t,h=d(c,[a,l],["0%",r===t-1?"0%":"-100%"]),u=d(c,[a,l],[1,r===t-1?1:.9]);return e.jsx(m,{card:n,style:{y:h,scale:u,zIndex:t-r}},n._id)})})})};function y(){const[s,i]=o.useState([]),[c,t]=o.useState(!0),[n,r]=o.useState(window.innerWidth<=575);return o.useEffect(()=>{const a=()=>{r(window.innerWidth<=575)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),o.useEffect(()=>{(async()=>{try{const l=await j.get("/homepage/service-cards");i(l.data.data)}catch(l){console.error("Failed to fetch service cards:",l)}finally{t(!1)}})()},[]),e.jsxs("div",{className:"sticky-scroll-wrapper",children:[e.jsx("div",{className:"section-title text-center",children:e.jsxs("h2",{className:"wow fadeInUp","data-wow-delay":".3s",children:["One ",e.jsx("b",{children:"System"})," ",e.jsx("br",{}),e.jsxs("strong",{className:"we-build",children:["Total ",e.jsx("b",{children:"market Authority"})]})]})}),!c&&s.length>0?n?e.jsx("div",{className:"static-card-list",children:s.map(a=>e.jsx(m,{card:a},a._id))}):e.jsx(g,{cardData:s}):e.jsx("div",{style:{minHeight:"100vh"}})]})}export{y as default};
